<html>
    <head>
        <title>Math Quiz Game</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width , initial-scale=1.0">
        <!-- <style>
            h1{
                display: inline;
            }
            button{
                padding: 5px;
                margin-left: 10px;
                font-size: 20px;
                cursor: pointer;
            }
            #oper{
                display: none;
            }
            #scorecard{
                display: none;
            }
            #start{
                display: none;
            }
            #manual{
                display: none;
            }
        </style> -->


        <style>
/* Your original styles */
h1 {
    display: inline;
}
button {
    padding: 5px;
    margin-left: 10px;
    font-size: 20px;
    cursor: pointer;
}
#oper {
    display: none;
}
#scorecard {
    display: none;
}
#start {
    display: none;
}
#manual {
    display: none;
}

/* Enhanced layout and appearance */
body {
    font-family: 'Segoe UI', sans-serif;
    background-color: #f8f9fa;
    color: #333;
    padding: 20px;
    text-align: center;
}

center {
    display: flex;
    flex-direction: column;
    align-items: center;
}

button {
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 6px;
    margin-top: 10px;
    transition: background-color 0.3s ease;
    width: 180px;
}

button:hover {
    background-color: #2c80b4;
}

select,
input[type="number"],
input[type="text"] {
    padding: 8px;
    margin-top: 10px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 16px;
    width: 150px;
    text-align: center;
}

#manual h1,
#oper h1,
#scorecard h1 {
    display: inline;
    margin: 0 6px;
}

#fnum,
#operator,
#snum {
    font-size: 28px;
    font-weight: bold;
    margin: 0 6px;
}

#ans {
    margin-top: 10px;
    font-size: 22px;
    font-weight: bold;
    color: #e67e22;
}

#score,
#highscore {
    color: #27ae60;
    font-weight: bold;
    margin-left: 5px;
}

#min,
#sec {
    font-size: 22px;
    font-weight: bold;
    color: #c0392b;
}

input#res {
    font-size: 20px;
    padding: 6px 10px;
    width: 100px;
    border-radius: 5px;
    border: 1px solid #aaa;
    margin-top: 10px;
}

/* Final result section */
#scorecard {
    margin-top: 30px;
}

#tryagain {
    background-color: #f39c12;
    color: white;
    width: 160px;
}

#tryagain:hover {
    background-color: #e67e22;
}
/* Group the operation buttons in a row */
#operation-buttons {
    display: flex;
    flex-direction: row;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

/* Disabled button look */
button:disabled {
    background-color: #bdc3c7;
    color: #666;
    cursor: not-allowed;
    opacity: 0.7;
}
body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to right, #f5f7fa, #c3cfe2);
    color: #333;
    padding: 20px;
}

button {
    padding: 10px 20px;
    margin: 10px;
    font-size: 18px;
    cursor: pointer;
    border: none;
    background-color: #3498db;
    color: white;
    border-radius: 8px;
    transition: background-color 0.3s ease;
}

button:hover:enabled {
    background-color: #2980b9;
}

button:disabled {
    background-color: #bdc3c7;
    color: #666;
    cursor: not-allowed;
    opacity: 0.6;
}

#operation-buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 30px;
    gap: 15px;
}

#start, #oper, #scorecard {
    background-color: white;
    border-radius: 10px;
    padding: 30px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    display: none;
    max-width: 500px;
    margin: auto;
}

#manual {
    margin-top: 10px;
}

select, input[type="number"], input[type="text"] {
    padding: 10px;
    margin: 10px;
    font-size: 16px;
    border-radius: 5px;
    border: 1px solid #ccc;
}

h1 {
    font-size: 24px;
    margin: 10px 0;
}

#fnum, #operator, #snum {
    display: inline-block;
    font-size: 36px;
    margin: 10px 5px;
}

#res {
    font-size: 22px;
    width: 100px;
    text-align: center;
}

#ans {
    font-size: 22px;
    font-weight: bold;
    margin-top: 15px;
    color: green;
}
#scorecard {
    /* display: none; */
    display: flex;
    flex-direction: column; /* Stack vertically */
    align-items: center;    /* Center items horizontally */
    justify-content: center; /* Center items vertically */
    padding: 30px;
    gap: 20px;
    background-color: rgba(255, 255, 255, 0.85); /* Light background */
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    margin-top: 50px;
}

#scorecard h1,
#scorecard h2 {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    color: #333;
    text-align: center;
}

#scorecard button {
    padding: 10px 25px;
    font-size: 18px;
    cursor: pointer;
    background-color: #007acc;
    color: white;
    border: none;
    border-radius: 8px;
    transition: background-color 0.3s;
}

#scorecard button:hover {
    background-color: #005fa3;
}
#instructions {
    background-color: #f0f8ff; /* Light blue background */
    color: #333;
    padding: 20px 30px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    margin: 30px auto;
    width: 80%;
    max-width: 500px;
    font-family: 'Segoe UI', sans-serif;
    font-size: 18px;
    text-align: center;
    line-height: 1.6;
}

#instructions strong {
    color: #007acc; /* Highlighted text */
}


</style>

    </head>
    <body>
        <center>
            <div id="operation-buttons">
                <button onclick="startadd()" id="add">Addition</button>
                <button onclick="startsub()" id="sub">Subtraction</button>
                <button onclick="startmul()" id="mul">Multiplication</button>
                <button onclick="startdiv()" id="div">Division</button>
            </div>
            <div id="instructions">
                <p><strong>Welcome!</strong><br> Click on an operation to begin your quiz.<br>
                Youâ€™ll have <strong>1 minute</strong> to solve as many questions as you can!</p>
            </div>

            <div id="start">
                <br>
                <br>
                <h1 id="heading" style="color: blue;"></h1>
                <p style="font-size: 18px; font-weight: 500; margin-top: 20px;">Choose a range or enter a custom one to start the quiz.</p>
                <select id="sel" onchange="checkmanual()">
                    <option value="10">0-10</option>
                    <option value="30">0-30</option>
                    <option value="50">0-50</option>
                    <option value="100">0-100</option>
                    <option value="entermanual">Custom Range</option>
                </select>
                <br>
                <div id="manual">
                    <h1>from</h1>
                    <input type="number" id="from" value="1" required>
                    <h1>To  </h1>
                    <input type="number" id="to" value="10" required>
                </div>
                <br>
                <button id="startbutton">Start</button>
            </div>
            
            <div id="oper">
                <h1><span id="min">1</span>:<span id="sec">00</span></h1>
                <br>
                <br>
                <h1>Score:<span id="score">0</span></h1>
                <h1>Highest Score:<span id="highscore">0</span></h1>
                <br>
                <br>
                <h1 id="fnum"></h1>
                <h1 id="operator"></h1>
                <h1 id="snum"></h1>
                <h1>=</h1>
                <br>
                <br>
                <input type="number" id="res"/>
                <br>
                <br>
                <button onclick="check()">Submit</button>
                <!-- <button onclick="next()">Next</button> -->
                <br>
                <br>
                <h1 id="ans"></h1>
                <!-- <h1 id='score'></h1> -->
            </div>
            <div id="scorecard" style="display: none;">
                <h1>Time's Up!</h1><br><br>
                <h1 id="result"></h1><br><br>
                <button id="tryagain">Try again</button>
            </div>
        </center>
    </body>
    <script>

        addhs=localStorage.getItem("addhighscore")||0;
        subhs=localStorage.getItem("subhighscore")||0;
        mulhs=localStorage.getItem("mulhighscore")||0;
        divhs=localStorage.getItem("divhighscore")||0;

        let corcount=0;
        let a,s,m,d;
        ad=document.getElementById('add');
        su=document.getElementById('sub');
        mu=document.getElementById('mul');
        di=document.getElementById('div');
        function startadd(){
            document.getElementById("highscore").innerHTML=addhs;
            document.getElementById('heading').innerHTML="ADDITION";
            document.getElementById('instructions').style.display='none';
            document.getElementById('start').style.display='block';
            document.getElementById('startbutton').onclick=()=>addition();
        }
        function startsub(){
            document.getElementById("highscore").innerHTML=subhs;
            document.getElementById('heading').innerHTML="SUBRACTION"
            document.getElementById('instructions').style.display='none';
            document.getElementById('start').style.display='block';
            document.getElementById('startbutton').onclick=()=>subtraction();
        }
        function startmul(){
            document.getElementById("highscore").innerHTML=mulhs;
            document.getElementById('heading').innerHTML="MULTIPLICATION"
            document.getElementById('instructions').style.display='none';
            document.getElementById('start').style.display='block';
            document.getElementById('startbutton').onclick=()=>multiplication();
        }
        function startdiv(){
            document.getElementById("highscore").innerHTML=divhs;
            document.getElementById('heading').innerHTML="DIVISION"
            document.getElementById('instructions').style.display='none';
            document.getElementById('start').style.display='block';
            document.getElementById('startbutton').onclick=()=>division();
        }
        function checkmanual(){
            choice=document.getElementById('sel').value;
            if(choice=='entermanual'){
                document.getElementById('manual').style.display='block';
            }
            else{
                document.getElementById('manual').style.display='none';
            }
        }
        function addition(){
            choice=document.getElementById('sel').value;
            if(choice=='entermanual'){
                min1=parseInt(document.getElementById('from').value);
                max=parseInt(document.getElementById('to').value);
                if (min1 > max) {
                    alert("Please ensure 'From' value is less than or equal to 'To' value.");
                    return;
                }

            }
            else{
                min1=0;
                max=document.getElementById('sel').value;
            }
            document.getElementById('start').style.display='none';
            ad.disabled=true;
            su.disabled=true;
            mu.disabled=true;
            di.disabled=true;
            sec=59;
            document.getElementById('min').innerHTML='1';
            setTimeout(() => {
                document.getElementById('min').innerHTML='00';
            }, 1000);
            function loop1(){
                document.getElementById('sec').innerHTML=sec;
                if(sec==0){
                    document.getElementById('oper').style.display='none';
                    document.getElementById('scorecard').style.display='block';
                    document.getElementById('result').innerHTML="Your Score is "+corcount;
                    document.getElementById('tryagain').onclick=()=>addition();
                    document.getElementById('score').innerHTML='0';
                    corcount=0;
                    clearInterval(l1);
                    ad.disabled=false;
                    su.disabled=false;
                    mu.disabled=false;
                    di.disabled=false;
                    return;
                }
                sec=sec-1;
            }
            l1=setInterval(loop1,1000);
            add();
        }
        function subtraction(){
            choice=document.getElementById('sel').value;
            if(choice=='entermanual'){
                min1=parseInt(document.getElementById('from').value);
                max=parseInt(document.getElementById('to').value);
            }
            else{
                min1=0;
                max=document.getElementById('sel').value;
            }
            document.getElementById('start').style.display='none';
            ad.disabled=true;
            su.disabled=true;
            mu.disabled=true;
            di.disabled=true;
            sec=59;
            document.getElementById('min').innerHTML='1';
            setTimeout(() => {
                document.getElementById('min').innerHTML='00';
            }, 1000);
            function loop2(){
                document.getElementById('sec').innerHTML=sec;
                if(sec==0){
                    document.getElementById('oper').style.display='none';
                    document.getElementById('scorecard').style.display='block';
                    document.getElementById('result').innerHTML="Your Score is "+corcount;
                    document.getElementById('tryagain').onclick=()=>subtraction();
                    document.getElementById('score').innerHTML='0';
                    corcount=0;
                    clearInterval(l2);
                    ad.disabled=false;
                    su.disabled=false;
                    mu.disabled=false;
                    di.disabled=false;
                    return;
                }
                sec=sec-1;
            }
            l2=setInterval(loop2,1000);
            sub();
        }
        function multiplication(){
            choice=document.getElementById('sel').value;
            if(choice=='entermanual'){
                min1=parseInt(document.getElementById('from').value);
                max=parseInt(document.getElementById('to').value);
            }
            else{
                min1=0;
                max=document.getElementById('sel').value;
            }
            document.getElementById('start').style.display='none';
            ad.disabled=true;
            su.disabled=true;
            mu.disabled=true;
            di.disabled=true;
            sec=59;
            document.getElementById('min').innerHTML='1';
            setTimeout(() => {
                document.getElementById('min').innerHTML='00';
            }, 1000);
            function loop3(){
                document.getElementById('sec').innerHTML=sec;
                if(sec==0){
                    document.getElementById('oper').style.display='none';
                    document.getElementById('scorecard').style.display='block';
                    document.getElementById('result').innerHTML="Your Score is "+corcount;
                    document.getElementById('tryagain').onclick=()=>multiplication();
                    document.getElementById('score').innerHTML='0';
                    corcount=0;
                    clearInterval(l3);
                    ad.disabled=false;
                    su.disabled=false;
                    mu.disabled=false;
                    di.disabled=false;
                    return;
                }
                sec=sec-1;
            }
            l3=setInterval(loop3,1000);
            mul();
        }
        function division(){
            choice=document.getElementById('sel').value;
            if(choice=='entermanual'){
                min1=parseInt(document.getElementById('from').value);
                max=parseInt(document.getElementById('to').value);
            }
            else{
                min1=0;
                max=document.getElementById('sel').value;
            }
            document.getElementById('start').style.display='none';
            ad.disabled=true;
            su.disabled=true;
            mu.disabled=true;
            di.disabled=true;
            sec=59;
            document.getElementById('min').innerHTML='1';
            setTimeout(() => {
                document.getElementById('min').innerHTML='00';
            }, 1000);

            function loop4(){
                document.getElementById('sec').innerHTML=sec;
                if(sec==0){
                    document.getElementById('oper').style.display='none';
                    document.getElementById('scorecard').style.display='block';
                    document.getElementById('result').innerHTML="Your Score is "+corcount;
                    document.getElementById('tryagain').onclick=()=>division();
                    document.getElementById('score').innerHTML='0';
                    corcount=0;
                    clearInterval(l4);
                    ad.disabled=false;
                    su.disabled=false;
                    mu.disabled=false;
                    di.disabled=false;
                    return;
                }
                sec=sec-1;
            }
            l4=setInterval(loop4,1000);
            div();
        }
        function add(){
            document.getElementById('scorecard').style.display='none';
            a=1,s=0,m=0,d=0;
            document.getElementById('res').value='';
            fran=Math.floor(Math.random()*(max-min1))+min1;
            sran=Math.floor(Math.random()*(max-min1))+min1;
            document.getElementById('fnum').innerHTML=fran;
            document.getElementById('operator').innerHTML='+';
            document.getElementById('snum').innerHTML=sran;
            document.getElementById('oper').style.display='block';
        }
        function sub(){
            document.getElementById('scorecard').style.display='none';
            a=0,s=1,m=0,d=0;
            document.getElementById('res').value='';
            fran=Math.floor(Math.random()*(max-min1))+min1;
            sran=Math.floor(Math.random()*fran);
            document.getElementById('fnum').innerHTML=fran;
            document.getElementById('operator').innerHTML='-';
            document.getElementById('snum').innerHTML=sran;
            document.getElementById('oper').style.display='block';
        }
        function mul(){
            document.getElementById('scorecard').style.display='none';
            a=0,s=0,m=1,d=0;
            document.getElementById('res').value='';
            fran=Math.floor(Math.random()*(max-min1))+min1;
            sran=Math.floor(Math.random()*(max-min1))+min1;
            document.getElementById('fnum').innerHTML=fran;
            document.getElementById('operator').innerHTML='*';
            document.getElementById('snum').innerHTML=sran;
            document.getElementById('oper').style.display='block';
        }
        function div(){
            arr=[]
            document.getElementById('scorecard').style.display='none';
            a=0,s=0,m=0,d=1;
            document.getElementById('res').value='';
            fran=Math.floor(Math.random()*(max-min1))+min1;
            if(fran==0){
                fran=1;
            }
            j=0;
            for(i=0;i<=fran;i++){
                if(fran%i==0){
                    arr[j]=i;
                    j+=1;
                }
            }
            sran=Math.floor(Math.random()*(arr.length));
            document.getElementById('fnum').innerHTML=fran;
            document.getElementById('operator').innerHTML='/';
            document.getElementById('snum').innerHTML=arr[sran];
            document.getElementById('oper').style.display='block';
        }
        function check(){
            res=document.getElementById('res').value;
            oper=document.getElementById('operator').innerHTML;
            if(oper=='+'){
                cor=fran+sran;
                if(cor==res){
                    corcount+=1;
                    document.getElementById('score').innerHTML=corcount;
                    if(corcount>addhs){
                        localStorage.setItem("addhighscore",corcount);
                        document.getElementById('highscore').innerHTML=corcount
                    }
                    document.getElementById('oper').style.backgroundColor="lightgreen";
                    // document.getElementById('ans').style.color="green";
                    // document.getElementById('ans').innerHTML="Correct";
                }
                else{
                    // document.getElementById('ans').style.color="red";
                    document.getElementById('oper').style.backgroundColor="#ff6f61";
                    // document.getElementById('ans').innerHTML="Wrong";
                }
                document.getElementById('res').focus();
            }
            else if(oper=='-'){
                cor=fran-sran;
                if(cor==res){
                    corcount+=1;
                    document.getElementById('score').innerHTML=corcount;
                    if(corcount>subhs){
                        localStorage.setItem("subhighscore",corcount);
                        document.getElementById('highscore').innerHTML=corcount
                    }
                    document.getElementById('oper').style.backgroundColor="lightgreen";
                    // document.getElementById('ans').style.color="green";
                    // document.getElementById('ans').innerHTML="Correct";
                }
                else{
                    document.getElementById('oper').style.backgroundColor="#ff6f61";
                    // document.getElementById('ans').style.color="red";
                    // document.getElementById('ans').innerHTML="Wrong";
                }
            }
            else if(oper=='*'){
                cor=fran*sran;
                if(cor==res){
                    corcount+=1;
                    document.getElementById('score').innerHTML=corcount;
                    if(corcount>mulhs){
                        localStorage.setItem("mulhighscore",corcount);
                        document.getElementById('highscore').innerHTML=corcount
                    }
                    document.getElementById('oper').style.backgroundColor="lightgreen";
                    // document.getElementById('ans').style.color="green";
                    // document.getElementById('ans').innerHTML="Correct";
                }
                else{
                    document.getElementById('oper').style.backgroundColor="#ff6f61";
                    // document.getElementById('ans').style.color="red";
                    // document.getElementById('ans').innerHTML="Wrong";
                }
            }
            else if(oper=='/'){
                cor=(fran/arr[sran]);
                if(cor==res){
                    corcount+=1;
                    document.getElementById('score').innerHTML=corcount;
                    if(corcount>divhs){
                        localStorage.setItem("divhighscore",corcount);
                        document.getElementById('highscore').innerHTML=corcount
                    }
                    document.getElementById('oper').style.backgroundColor="lightgreen";
                    // document.getElementById('ans').style.color="green";
                    // document.getElementById('ans').innerHTML="Correct";
                }
                else{
                    document.getElementById('oper').style.backgroundColor="#ff6f61";
                    // document.getElementById('ans').style.color="red";
                    // document.getElementById('ans').innerHTML="Wrong";
                }
            }
            
            setTimeout(() => {
                document.getElementById('ans').innerHTML="";
                document.getElementById('oper').style.backgroundColor="white";
            }, 500);
            if(a==1){
                add();
            }
            else if(s==1){
                sub();
            }
            else if(m==1){
                mul();
            }
            else if(d==1){
                div();
            }
            // fran=Math.floor(Math.random()*10);
            // oper=Math.floor(Math.random()*4);
            // sran=Math.floor(Math.random()*10);
            // arr=['+','-','*','/'];
            // document.getElementById('fnum').innerHTML=fran;
            // document.getElementById('operator').innerHTML=arr[oper];
            // document.getElementById('snum').innerHTML=sran;
        }
    </script>
</html>
