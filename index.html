<html>
    <head>
        <title>qwert</title>
        <style>
            h1{
                display: inline;
            }
            button{
                padding: 5px;
                margin-left: 10px;
                font-size: 20px;
                cursor: pointer;
            }
            #oper{
                display: none;
            }
            #scorecard{
                display: none;
            }
            #start{
                display: none;
            }
            #manual{
                display: none;
            }
        </style>
    </head>
    <body>
        <center>
            <button onclick="startadd()" id="add">Addition</button>
            <button onclick="startsub()" id="sub">Subtraction</button>
            <button onclick="startmul()" id="mul">Multiplication</button>
            <button onclick="startdiv()" id="div">Division</button>
            <div id="start">
                <br>
                <br>
                <select id="sel" onchange="checkmanual()">
                    <option value="10">0-10</option>
                    <option value="entermanual">Enter Manual</option>
                    <option value="30">0-30</option>
                    <option value="50">0-50</option>
                    <option value="100">0-100</option>
                </select>
                <br>
                <div id="manual">
                    <h1>from</h1>
                    <input type="number" id="from" value="1" required>
                    <h1>To  </h1>
                    <input type="number" id="to" value="10" required>
                </div>
                <br>
                <button id="startbutton">Start</button>
            </div>
            
            <div id="oper">
                <h1><span id="min">1</span>:<span id="sec">00</span></h1>
                <br>
                <br>
                <h1>Score:<span id="score">0</span></h1>
                <h1>Highest Score:<span id="highscore">0</span></h1>
                <br>
                <br>
                <h1 id="fnum"></h1>
                <h1 id="operator"></h1>
                <h1 id="snum"></h1>
                <h1>=</h1>
                <br>
                <br>
                <input type="text" id="res"/>
                <br>
                <br>
                <button onclick="check()">Submit</button>
                <!-- <button onclick="next()">Next</button> -->
                <br>
                <br>
                <h1 id="ans"></h1>
                <!-- <h1 id='score'></h1> -->
            </div>
            <div id="scorecard">
                <h1>Time Out</h1>
                <h1 id="result"></h1>
                <button id="tryagain">Try again</button>
            </div>
        </center>
    </body>
    <script>
        let corcount=0;
        let a,s,m,d;
        ad=document.getElementById('add');
        su=document.getElementById('sub');
        mu=document.getElementById('mul');
        di=document.getElementById('div');
        function startadd(){
            document.getElementById('start').style.display='block';
            document.getElementById('startbutton').onclick=()=>addition();
        }
        function startsub(){
            document.getElementById('start').style.display='block';
            document.getElementById('startbutton').onclick=()=>subtraction();
        }
        function startmul(){
            document.getElementById('start').style.display='block';
            document.getElementById('startbutton').onclick=()=>multiplication();
        }
        function startdiv(){
            document.getElementById('start').style.display='block';
            document.getElementById('startbutton').onclick=()=>division();
        }
        function checkmanual(){
            choice=document.getElementById('sel').value;
            if(choice=='entermanual'){
                document.getElementById('manual').style.display='block';
            }
            else{
                document.getElementById('manual').style.display='none';
            }
        }
        function addition(){
            choice=document.getElementById('sel').value;
            if(choice=='entermanual'){
                min1=parseInt(document.getElementById('from').value);
                max=parseInt(document.getElementById('to').value);
            }
            else{
                min1=0;
                max=document.getElementById('sel').value;
            }
            document.getElementById('start').style.display='none';
            ad.disabled=true;
            su.disabled=true;
            mu.disabled=true;
            di.disabled=true;
            sec=59;
            document.getElementById('min').innerHTML='1';
            setTimeout(() => {
                document.getElementById('min').innerHTML='00';
            }, 1000);
            function loop1(){
                document.getElementById('sec').innerHTML=sec;
                if(sec==0){
                    document.getElementById('oper').style.display='none';
                    document.getElementById('scorecard').style.display='block';
                    document.getElementById('result').innerHTML="Your Score is "+corcount;
                    document.getElementById('tryagain').onclick=()=>addition();
                    document.getElementById('score').innerHTML='0';
                    corcount=0;
                    clearInterval(l1);
                    ad.disabled=false;
                    su.disabled=false;
                    mu.disabled=false;
                    di.disabled=false;
                    return;
                }
                sec=sec-1;
            }
            l1=setInterval(loop1,1000);
            add();
        }
        function subtraction(){
            choice=document.getElementById('sel').value;
            if(choice=='entermanual'){
                min1=parseInt(document.getElementById('from').value);
                max=parseInt(document.getElementById('to').value);
            }
            else{
                min1=0;
                max=document.getElementById('sel').value;
            }
            document.getElementById('start').style.display='none';
            ad.disabled=true;
            su.disabled=true;
            mu.disabled=true;
            di.disabled=true;
            sec=59;
            document.getElementById('min').innerHTML='1';
            setTimeout(() => {
                document.getElementById('min').innerHTML='00';
            }, 1000);
            function loop2(){
                document.getElementById('sec').innerHTML=sec;
                if(sec==0){
                    document.getElementById('oper').style.display='none';
                    document.getElementById('scorecard').style.display='block';
                    document.getElementById('result').innerHTML="Your Score is "+corcount;
                    document.getElementById('tryagain').onclick=()=>subtraction();
                    document.getElementById('score').innerHTML='0';
                    corcount=0;
                    clearInterval(l2);
                    ad.disabled=false;
                    su.disabled=false;
                    mu.disabled=false;
                    di.disabled=false;
                    return;
                }
                sec=sec-1;
            }
            l2=setInterval(loop2,1000);
            sub();
        }
        function multiplication(){
            choice=document.getElementById('sel').value;
            if(choice=='entermanual'){
                min1=parseInt(document.getElementById('from').value);
                max=parseInt(document.getElementById('to').value);
            }
            else{
                min1=0;
                max=document.getElementById('sel').value;
            }
            document.getElementById('start').style.display='none';
            ad.disabled=true;
            su.disabled=true;
            mu.disabled=true;
            di.disabled=true;
            sec=59;
            document.getElementById('min').innerHTML='1';
            setTimeout(() => {
                document.getElementById('min').innerHTML='00';
            }, 1000);
            function loop3(){
                document.getElementById('sec').innerHTML=sec;
                if(sec==0){
                    document.getElementById('oper').style.display='none';
                    document.getElementById('scorecard').style.display='block';
                    document.getElementById('result').innerHTML="Your Score is "+corcount;
                    document.getElementById('tryagain').onclick=()=>multiplication();
                    document.getElementById('score').innerHTML='0';
                    corcount=0;
                    clearInterval(l3);
                    ad.disabled=false;
                    su.disabled=false;
                    mu.disabled=false;
                    di.disabled=false;
                    return;
                }
                sec=sec-1;
            }
            l3=setInterval(loop3,1000);
            mul();
        }
        function division(){
            choice=document.getElementById('sel').value;
            if(choice=='entermanual'){
                min1=parseInt(document.getElementById('from').value);
                max=parseInt(document.getElementById('to').value);
            }
            else{
                min1=0;
                max=document.getElementById('sel').value;
            }
            document.getElementById('start').style.display='none';
            ad.disabled=true;
            su.disabled=true;
            mu.disabled=true;
            di.disabled=true;
            sec=59;
            document.getElementById('min').innerHTML='1';
            setTimeout(() => {
                document.getElementById('min').innerHTML='00';
            }, 1000);

            function loop4(){
                document.getElementById('sec').innerHTML=sec;
                if(sec==0){
                    document.getElementById('oper').style.display='none';
                    document.getElementById('scorecard').style.display='block';
                    document.getElementById('result').innerHTML="Your Score is "+corcount;
                    document.getElementById('tryagain').onclick=()=>division();
                    document.getElementById('score').innerHTML='0';
                    corcount=0;
                    clearInterval(l4);
                    ad.disabled=false;
                    su.disabled=false;
                    mu.disabled=false;
                    di.disabled=false;
                    return;
                }
                sec=sec-1;
            }
            l4=setInterval(loop4,1000);
            div();
        }
        function add(){
            document.getElementById('scorecard').style.display='none';
            a=1,s=0,m=0,d=0;
            document.getElementById('res').value='';
            fran=Math.floor(Math.random()*(max-min1))+min1;
            sran=Math.floor(Math.random()*(max-min1))+min1;
            document.getElementById('fnum').innerHTML=fran;
            document.getElementById('operator').innerHTML='+';
            document.getElementById('snum').innerHTML=sran;
            document.getElementById('oper').style.display='block';
        }
        function sub(){
            document.getElementById('scorecard').style.display='none';
            a=0,s=1,m=0,d=0;
            document.getElementById('res').value='';
            fran=Math.floor(Math.random()*(max-min1))+min1;
            sran=Math.floor(Math.random()*fran);
            document.getElementById('fnum').innerHTML=fran;
            document.getElementById('operator').innerHTML='-';
            document.getElementById('snum').innerHTML=sran;
            document.getElementById('oper').style.display='block';
        }
        function mul(){
            document.getElementById('scorecard').style.display='none';
            a=0,s=0,m=1,d=0;
            document.getElementById('res').value='';
            fran=Math.floor(Math.random()*(max-min1))+min1;
            sran=Math.floor(Math.random()*(max-min1))+min1;
            document.getElementById('fnum').innerHTML=fran;
            document.getElementById('operator').innerHTML='*';
            document.getElementById('snum').innerHTML=sran;
            document.getElementById('oper').style.display='block';
        }
        function div(){
            arr=[]
            document.getElementById('scorecard').style.display='none';
            a=0,s=0,m=0,d=1;
            document.getElementById('res').value='';
            fran=Math.floor(Math.random()*(max-min1))+min1;
            if(fran==0){
                fran=1;
            }
            j=0;
            for(i=0;i<=fran;i++){
                if(fran%i==0){
                    arr[j]=i;
                    j+=1;
                }
            }
            sran=Math.floor(Math.random()*(arr.length));
            document.getElementById('fnum').innerHTML=fran;
            document.getElementById('operator').innerHTML='/';
            document.getElementById('snum').innerHTML=arr[sran];
            document.getElementById('oper').style.display='block';
        }
        function check(){
            res=document.getElementById('res').value;
            oper=document.getElementById('operator').innerHTML;
            if(oper=='+'){
                cor=fran+sran;
                if(cor==res){
                    corcount+=1;
                    document.getElementById('score').innerHTML=corcount;
                    document.getElementById('ans').innerHTML="Correct";
                }
                else{
                    document.getElementById('ans').innerHTML="Wrong";
                }
            }
            else if(oper=='-'){
                cor=fran-sran;
                if(cor==res){
                    corcount+=1;
                    document.getElementById('score').innerHTML=corcount;
                    document.getElementById('ans').innerHTML="Correct";
                }
                else{
                    document.getElementById('ans').innerHTML="Wrong";
                }
            }
            else if(oper=='*'){
                cor=fran*sran;
                if(cor==res){
                    corcount+=1;
                    document.getElementById('score').innerHTML=corcount;
                    document.getElementById('ans').innerHTML="Correct";
                }
                else{
                    document.getElementById('ans').innerHTML="Wrong";
                }
            }
            else if(oper=='/'){
                cor=(fran/arr[sran]);
                if(cor==res){
                    corcount+=1;
                    document.getElementById('score').innerHTML=corcount;
                    document.getElementById('ans').innerHTML="Correct";
                }
                else{
                    document.getElementById('ans').innerHTML="Wrong";
                }
            }
            
            setTimeout(() => {
                document.getElementById('ans').innerHTML="";
            }, 500);
            if(a==1){
                add();
            }
            else if(s==1){
                sub();
            }
            else if(m==1){
                mul();
            }
            else if(d==1){
                div();
            }
            // fran=Math.floor(Math.random()*10);
            // oper=Math.floor(Math.random()*4);
            // sran=Math.floor(Math.random()*10);
            // arr=['+','-','*','/'];
            // document.getElementById('fnum').innerHTML=fran;
            // document.getElementById('operator').innerHTML=arr[oper];
            // document.getElementById('snum').innerHTML=sran;
        }
    </script>
</html>